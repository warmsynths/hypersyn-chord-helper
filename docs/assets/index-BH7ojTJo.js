(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function e(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerPolicy&&(t.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?t.credentials="include":n.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(n){if(n.ep)return;n.ep=!0;const t=e(n);fetch(n.href,t)}})();let C=null;const N=()=>{const o=document.getElementById("sidebar"),s=document.getElementById("sidebarToggle");o.classList.contains("-translate-x-full")?(o.classList.remove("-translate-x-full"),s.classList.add("sidebar-toggle-fade"),C=e=>{o&&!o.contains(e.target)&&(!s||!s.contains(e.target))&&N()},setTimeout(()=>{document.addEventListener("mousedown",C)},0)):(o.classList.add("-translate-x-full"),s.classList.remove("sidebar-toggle-fade"),C&&(document.removeEventListener("mousedown",C),C=null))};function U(){const o=document.getElementById("video-bg"),s=document.getElementById("toggleVideoBtn");if(!o||!s)return;const e=o.style.display==="none";o.style.display=e?"block":"none",s.textContent=e?"Hide Video":"Show Video"}function F(o,s){if(!Array.isArray(o))return o;const e=[...o].sort((n,t)=>n-t);function i(n){return n.includes(4)&&n.includes(10)}switch(s){case"drop2":if(e.length>=2){const t=e.length-2;e[t]-=12}return e.slice().sort((t,r)=>t-r);case"open-triad":return e.length===3?[e[0],e[2],e[1]+12].sort((r,a)=>r-a):e;case"drop3":if(e.length>=3){const t=e.length-3;e[t]-=12}return e.slice().sort((t,r)=>t-r);case"spread":return e.map((t,r)=>r%2===1?t+12:t);case"octave":const n=[...e];return n.length>0&&n.push(n[0]+12),n.length>2&&n.push(n[2]+12),n;case"first-inversion":if(e.length>1){const t=[...e];return t[0]+=12,t.slice(1).concat(t[0]).sort((r,a)=>r-a)}return e;case"second-inversion":if(e.length>2){const t=[...e];return t[0]+=12,t[1]+=12,t.slice(2).concat(t[0],t[1]).sort((r,a)=>r-a)}return e;case"third-inversion":if(e.length>3){const t=[...e];return t[0]+=12,t[1]+=12,t[2]+=12,t.slice(3).concat(t[0],t[1],t[2]).sort((r,a)=>r-a)}return e;case"shell-dominant":return i(e)?e.filter(t=>t===0||t===4||t===10):e;case"altered-dominant":return i(e)?e.filter(r=>r===0||r===4||r===10).concat([1,5,6,8]).sort((r,a)=>r-a):e;case"closed":default:return o}}let b=[],x=[],L=null,E=null;function M(){b&&b.length&&(b.forEach(o=>{try{o.stop()}catch{}}),b=[]),x&&x.length&&(x.forEach(o=>{try{o.disconnect()}catch{}}),x=[])}function P(){const e=document.getElementById("chordsInput").value.split(/\s|,/).filter(d=>d.length>0).map(J).filter(d=>d!==null);if(e.length===0)return;const i={C:48,"C#":49,Db:49,D:50,"D#":51,Eb:51,E:52,F:53,"F#":54,Gb:54,G:55,"G#":56,Ab:56,A:57,"A#":58,Bb:58,B:59},n=L||new(globalThis.AudioContext||globalThis.webkitAudioContext);if(L=n,n.state==="suspended"&&n.resume(),!E){const d=n.sampleRate*2.5,u=n.createBuffer(2,d,n.sampleRate);for(let m=0;m<2;m++){const h=u.getChannelData(m);for(let y=0;y<d;y++)h[y]=(Math.random()*2-1)*Math.pow(1-y/d,2.5)}const p=n.createConvolver();p.buffer=u,E=p}const t=E;let r=n.currentTime;const a=2.5;M();const c=parseInt(document.getElementById("volumeSlider").value,10)/100;b=[],x=[];const l=typeof O=="function"?O():"closed";e.forEach(d=>{let u=i[d.root]||60;isFinite(u)||(u=60);let p=Array.isArray(d.intervalOnly)?d.intervalOnly.filter(m=>typeof m=="number"&&isFinite(m)):[];p=F(p,l),p.length===0&&console.warn("No intervals for chord:",d.chordName,d),p.forEach(m=>{let h=u+m;if(!isFinite(h))return;let y=440*Math.pow(2,(h-69)/12);if(!isFinite(y))return;let f=n.createOscillator(),g=n.createGain(),S=n.createBiquadFilter();f.type="triangle",f.frequency.value=y,f.detune.value=Math.random()*10-5,S.type="lowpass",S.frequency.value=220,S.Q.value=1.4;const R=1,q=1.2;g.gain.setValueAtTime(0,r),g.gain.linearRampToValueAtTime(c,r+R),g.gain.setValueAtTime(c,r+a-q),g.gain.linearRampToValueAtTime(0,r+a),f.connect(S).connect(g).connect(t).connect(n.destination),f.start(r),f.stop(r+a),b.push(f),x.push(g)}),r+=a})}const z={maj:[0,4,7],min:[0,3,7],m:[0,3,7],dim:[0,3,6],aug:[0,4,8],"+":[0,4,8],7:[0,4,7,10],m7:[0,3,7,10],min7:[0,3,7,10],maj7:[0,4,7,11],M7:[0,4,7,11],sus2:[0,2,7],sus4:[0,5,7],6:[0,4,7,9],m6:[0,3,7,9],9:[0,4,7,10,14],m9:[0,3,7,10,14],maj9:[0,4,7,11,14],11:[0,4,7,10,14,17],13:[0,4,7,10,14,21],add9:[0,4,7,14],add11:[0,4,7,10,14],add13:[0,4,7,10,14,21],sus:[0,5,7],5:[0,7],madd9:[0,3,7,14],maj6:[0,4,7,9],min9:[0,3,7,10,14],min11:[0,3,7,10,14,17],min13:[0,3,7,10,14,21],"7alt":[0,4,7,10,13,15,18,20],ø7:[0,3,6,10],m7b5:[0,3,6,10],dim7:[0,3,6,9],"maj7#5":[0,4,8,11],mMaj7:[0,3,7,11],add2:[0,2,4,7],add4:[0,4,5,7],add6:[0,4,7,9],"7b9":[0,4,7,10,13],"7#9":[0,4,7,10,15],"7b5":[0,4,6,10],"7#5":[0,4,8,10],"9b5":[0,4,6,10,14],"9#5":[0,4,8,10,14],"13b9":[0,4,7,10,13,21],"13#9":[0,4,7,10,15,21]},K={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11};function k(o){let s=o.toString(16).toUpperCase();return s.length===1?"0"+s:s}function J(o){const s=o.match(/^[A-G][b#]?/);if(!s)return null;const e=s[0];let i=o.slice(e.length)||"maj";i==="ø7"?i="ø7":i=i.replace("ø","m7b5");const n=z[i];if(!n)return null;const t=K[e],r=n.map(l=>k(l+t)),a=n.map(l=>k(l)),c=n.slice();return{chordName:o,root:e,type:i,rootBaked:r,intervalOnlyHex:a,intervalOnly:c}}function _(o){if(!o||!Array.isArray(o.intervalOnly))return;const s={C:48,"C#":49,Db:49,D:50,"D#":51,Eb:51,E:52,F:53,"F#":54,Gb:54,G:55,"G#":56,Ab:56,A:57,"A#":58,Bb:58,B:59},e=L||new(globalThis.AudioContext||globalThis.webkitAudioContext);if(L=e,e.state==="suspended"&&e.resume(),!E){const c=e.sampleRate*2.5,l=e.createBuffer(2,c,e.sampleRate);for(let u=0;u<2;u++){const p=l.getChannelData(u);for(let m=0;m<c;m++)p[m]=(Math.random()*2-1)*Math.pow(1-m/c,2.5)}const d=e.createConvolver();d.buffer=l,E=d}const i=E;M();const n=parseInt(document.getElementById("volumeSlider").value,10)/100;b=[],x=[];let t=s[o.root]||60;isFinite(t)||(t=60);const r=typeof O=="function"?O():"closed";let a=o.intervalOnly.filter(c=>typeof c=="number"&&isFinite(c));a=F(a,r),a.forEach(c=>{let l=t+c;if(!isFinite(l))return;let d=440*Math.pow(2,(l-69)/12);if(!isFinite(d))return;let u=e.createOscillator(),p=e.createGain(),m=e.createBiquadFilter();u.type="triangle",u.frequency.value=d,u.detune.value=Math.random()*10-5,m.type="lowpass",m.frequency.value=220,m.Q.value=1.4;const h=e.currentTime,y=1,f=2.5,g=1.2;p.gain.setValueAtTime(0,h),p.gain.linearRampToValueAtTime(n,h+y),p.gain.setValueAtTime(n,h+f-g),p.gain.linearRampToValueAtTime(0,h+f),u.connect(m).connect(p).connect(i).connect(e.destination),u.start(h),u.stop(h+f),b.push(u),x.push(p)})}const Q=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var s=Math.random()*16|0,e=o==="x"?s:s&3|8;return e.toString(16)}),v=(o,s="info")=>{const e=document.getElementById("toastContainer");if(!e)return;for(;e.children.length>2;)e.removeChild(e.firstChild);const i={success:"bg-pink-600 text-white border-pink-400",info:"bg-blue-600 text-white border-blue-400",error:"bg-gray-700 text-red-200 border-red-400"},n=document.createElement("div");n.className=`px-4 py-2 rounded shadow-lg border ${i[s]||i.info} text-lg mb-2 animate-fadeIn`,n.textContent=o,e.appendChild(n),setTimeout(()=>{n.classList.add("animate-fadeOut"),setTimeout(()=>e.removeChild(n),600)},2200)},B=()=>{const o=localStorage.getItem("hypersynChordSets");try{return o?JSON.parse(o):[]}catch{return[]}},D=o=>{localStorage.setItem("hypersynChordSets",JSON.stringify(o))},w=()=>{const o=document.getElementById("savedChordSetsSelect");if(!o)return;const s=B();o.innerHTML='<option value="">Load saved set...</option>',s.forEach((e,i)=>{o.innerHTML+=`<option value="${i}">${e.name}</option>`})},W=()=>{const o=document.getElementById("chordsInput").value,e=document.getElementById("chordSetNameInput").value.trim();if(!e){v("Please enter a name for the chord set.","error");return}let i=B();const n=i.findIndex(t=>t.name===e);n>=0?i[n].chords=o:i.push({name:e,chords:o,id:Q()}),D(i),w(),v(`Chord set saved as '${e}'.`,"success")},X=()=>{const s=document.getElementById("savedChordSetsSelect").value;if(!s||isNaN(Number(s))){v("Please select a saved chord set to load.","error");return}const i=B()[parseInt(s,10)];i?(document.getElementById("chordsInput").value=i.chords,typeof T=="function"&&T(),v(`Chord set '${i.name}' loaded!`,"success")):v("Chord set not found.","error")},Y=()=>{const s=document.getElementById("savedChordSetsSelect").value;if(!s||isNaN(Number(s))){v("Please select a saved chord set to delete.","error");return}let e=B();e[parseInt(s,10)]?(e.splice(parseInt(s,10),1),D(e),w(),v("Chord set deleted.","success")):v("Chord set not found.","error")},Z=()=>{const o=B(),s=JSON.stringify(o,null,2),e=new Blob([s],{type:"application/json"}),i=URL.createObjectURL(e),n=document.createElement("a");let t="hypersyn-chord-sets.json";const r=document.getElementById("savedChordSetsSelect");if(r&&r.value&&!isNaN(Number(r.value))){const a=parseInt(r.value,10),c=Array.isArray(o)?o:[];if(c[a]&&c[a].name){let l=c[a].name.toLowerCase().replace(/[^a-z0-9]/g,"");l.length>0&&(t=`hypersyn-${l}.json`)}}n.href=i,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(i),v(`Chord sets exported as ${t}.`,"success")},ee=o=>{if(!o.files||!o.files[0]){v("No file selected.","error");return}const s=o.files[0],e=new FileReader;e.onload=function(i){try{const n=typeof i.target.result=="string"?i.target.result:"",t=JSON.parse(n);if(!Array.isArray(t))throw new Error("Invalid format");let r=B();const a=new Set(r.map(l=>l.id));let c=0;t.forEach(l=>{l&&l.id&&!a.has(l.id)&&(r.push(l),c++)}),D(r),w(),c>0?v(`Imported ${c} new chord set(s).`,"success"):v("No new chord sets to import.","info")}catch{v("Failed to import chord sets.","error")}o.value=""},e.readAsText(s)},G={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},te=o=>({C:60,"C#":61,Db:61,D:62,"D#":63,Eb:63,E:64,F:65,"F#":66,Gb:66,G:67,"G#":68,Ab:68,A:69,"A#":70,Bb:70,B:71})[o]||60,ne=o=>{const s=Array.isArray(o)?o.length:0;return[{value:"closed",label:"Closed Voicing",valid:!0},{value:"open-triad",label:"Open Triad",valid:s===3},{value:"drop2",label:"Drop-2",valid:s>=3},{value:"drop3",label:"Drop-3",valid:s>=4},{value:"spread",label:"Spread",valid:s>=2},{value:"octave",label:"Octave Doubling",valid:s>=2},{value:"first-inversion",label:"First Inversion",valid:s>=2},{value:"second-inversion",label:"Second Inversion",valid:s>=3},{value:"third-inversion",label:"Third Inversion",valid:s>=4},{value:"shell-dominant",label:"Shell Dominant",valid:s>=3},{value:"altered-dominant",label:"Altered Dominant",valid:s>=3}].filter(i=>i.valid)},$=(o,s)=>{const e=Array.isArray(o)?o.slice().sort((n,t)=>n-t):[];function i(n){return n.includes(4)&&n.includes(10)}switch(s){case"drop2":if(e.length>=2){const t=e.length-2;e[t]-=12}return e.slice().sort((t,r)=>t-r);case"open-triad":return e.length===3?[e[0],e[2],e[1]+12].sort((r,a)=>r-a):e;case"drop3":if(e.length>=3){const t=e.length-3;e[t]-=12}return e.slice().sort((t,r)=>t-r);case"spread":return e.map((t,r)=>r%2===1?t+12:t);case"octave":const n=[...e];return n.length>0&&n.push(n[0]+12),n.length>2&&n.push(n[2]+12),n;case"first-inversion":if(e.length>1){const t=[...e];return t[0]+=12,t.slice(1).concat(t[0]).sort((r,a)=>r-a)}return e;case"second-inversion":if(e.length>2){const t=[...e];return t[0]+=12,t[1]+=12,t.slice(2).concat(t[0],t[1]).sort((r,a)=>r-a)}return e;case"third-inversion":if(e.length>3){const t=[...e];return t[0]+=12,t[1]+=12,t[2]+=12,t.slice(3).concat(t[0],t[1],t[2]).sort((r,a)=>r-a)}return e;case"shell-dominant":return i(e)?e.filter(t=>t===0||t===4||t===10):e;case"altered-dominant":return i(e)?e.filter(r=>r===0||r===4||r===10).concat([1,5,6,8]).sort((r,a)=>r-a):e;case"closed":default:return o}},I=o=>typeof o!="number"||isNaN(o)?"--":((o%12+12)%12).toString(16).toUpperCase().padStart(2,"0"),oe={maj:[0,4,7],min:[0,3,7],m:[0,3,7],dim:[0,3,6],aug:[0,4,8],"+":[0,4,8],7:[0,4,7,10],m7:[0,3,7,10],min7:[0,3,7,10],maj7:[0,4,7,11],M7:[0,4,7,11],sus2:[0,2,7],sus4:[0,5,7],6:[0,4,7,9],m6:[0,3,7,9],9:[0,4,7,10,14],m9:[0,3,7,10,14],maj9:[0,4,7,11,14],11:[0,4,7,10,14,17],13:[0,4,7,10,14,21],add9:[0,4,7,14],add11:[0,4,7,10,14],add13:[0,4,7,10,14,21],sus:[0,5,7],5:[0,7],madd9:[0,3,7,14],maj6:[0,4,7,9],min9:[0,3,7,10,14],min11:[0,3,7,10,14,17],min13:[0,3,7,10,14,21],"7alt":[0,4,7,10,13,15,18,20],ø7:[0,3,6,10],m7b5:[0,3,6,10],dim7:[0,3,6,9],"maj7#5":[0,4,8,11],mMaj7:[0,3,7,11],add2:[0,2,4,7],add4:[0,4,5,7],add6:[0,4,7,9],"7b9":[0,4,7,10,13],"7#9":[0,4,7,10,15],"7b5":[0,4,6,10],"7#5":[0,4,8,10],"9b5":[0,4,6,10,14],"9#5":[0,4,8,10,14],"13b9":[0,4,7,10,13,21],"13#9":[0,4,7,10,15,21]},j=o=>{const s=o.match(/^[A-G][b#]?/);if(!s)return null;const e=s[0];let i=o.slice(e.length)||"maj";i==="ø7"?i="ø7":i=i.replace("ø","m7b5");const n=oe[i];if(!n)return null;const t=G[e],r=n.map(l=>I(l+t)),a=n.map(l=>I(l)),c=n.slice();return{chordName:o,root:e,type:i,rootBaked:r,intervalOnlyHex:a,intervalOnly:c}};function se(o){const s=[],e={};return o.forEach((n,t)=>{const r=n.intervalOnly.join("-");e[r]||(s.push(r),e[r]={typeKey:r,chords:[],intervalOnlyHex:n.intervalOnlyHex.slice()}),e[r].chords.push(n.chordName)}),s.map(n=>e[n])}const re=(o,s)=>{const n=o.split(/[\s,]+/).filter(a=>a.length>0).map(j).filter(a=>a!==null).map(a=>{const c=$(a.intervalOnly,s),l=Array.isArray(c)?c:[];return{...a,intervalOnly:l,intervalOnlyHex:l.map(I),rootBaked:l.map(d=>I(d+(G[a.root]||0)))}}).filter(a=>typeof a.chordName=="string");n.length>0&&n.map(a=>a.chordName).join(" ")+"";let r=se(n).map((a,c)=>({index:c,chords:Array.isArray(a.chords)?a.chords:[],interval:Array.isArray(a.intervalOnlyHex)?a.intervalOnlyHex:[]}));return{inputChordNames:n.map(a=>a.chordName),uniqueGroups:r,voicing:s,chords:n}};let A=[];const ie=(o,s,e)=>{document.getElementById("outputBox").style.display="block";const i=document.querySelector('button[data-box="outputBox"]');i&&(i.innerHTML=i.innerHTML.replace("▶","▼"));const n=document.getElementById("chordsInput").value;n.split(/[\s,]+/).filter(c=>c.length>0);const t=s(),r=o(n,t);let a="";if(r.chords&&r.chords.length>0){A=r.chords;const c={};r.uniqueGroups.forEach((l,d)=>{l.chords.forEach(u=>{c[u]=d.toString().padStart(2,"0")})}),a+='<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4">',r.chords.forEach((l,d)=>{l.midiRoot=te(l.root);const u=l.intervalOnlyHex.map((f,g)=>`<span${g>=6?' class="dimmed"':""}>${f}</span>`).join(" "),p=l.rootBaked.map((f,g)=>`<span${g>=6?' class="dimmed"':""}>${f}</span>`).join(" "),m=c[l.chordName]||"--",h=ne(l.intervalOnly),y=`<select class="chord-voicing-select mb-2 p-1 rounded border border-gray-300 bg-gray-800 text-blue-200 text-xs" data-chord-idx="${d}">
				${h.map(f=>`<option value="${f.value}">${f.label}</option>`).join("")}
			</select>`;a+=`<div class="p-3 rounded bg-gray-800 text-white shadow">
				<span class="chord-name text-lg font-bold">${l.root}(${l.type}) <span class="text-yellow-300 text-sm">${m}</span></span><br>
				<span class="root-baked-label">Root-baked:</span> <span class="root-baked-value">${p}</span><br>
				<span class="interval-label">Interval:</span> <span class="interval-value">${u}</span>
				<div class="mt-2 flex flex-col items-center">
					${y}
					<div id="chordKeyboardViz${d}"></div>
				</div>
			</div>`}),a+="</div>"}else a="No valid chords found.<br><br>",v("No valid chords found.","error");document.getElementById("output").innerHTML=a,!a||!a.trim()?i.classList.add("dimmed"):(i.classList.remove("dimmed"),r.chords&&r.chords.length>0&&r.chords.forEach((c,l)=>{V(l,s(),c)}))},V=(o,s,e)=>{const i=document.getElementById("chordKeyboardViz"+o);if(!i||!e)return;let n=[];if(e.intervalOnly&&Array.isArray(e.intervalOnly)){const c=e.midiRoot||60;n=e.intervalOnly.map(l=>c+l)}const t=[60,72],r=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B","C"];let a='<svg width="130" height="90">';t.forEach((c,l)=>{for(let d=0;d<13;d++){const u=d*10,p=5+l*40,m=c+d,h=n.includes(m);a+=`<rect x="${u}" y="${p}" width="10" height="30" rx="2" fill="${h?"#ff79c6":"#282a36"}" stroke="#444" />`,a+=`<text x="${u+5}" y="${p+30}" text-anchor="middle" font-size="8" fill="#fff">${r[d]}</text>`}}),a+="</svg>",i.innerHTML=a},ae=(o,s)=>{if(!A||!A[o])return;const e=A[o];if(Array.isArray(e.intervalOnly)){let i=e.intervalOnly;typeof $=="function"&&(i=$(e.intervalOnly,s));const n=e.midiRoot||60,t=i.map(l=>`<span>${(n+l).toString(16).toUpperCase()}</span>`).join(" "),r=Object.assign({},e,{intervalOnly:i,intervalOnlyHex:i.map(I)}),a=r.intervalOnlyHex.map(l=>`<span>${l}</span>`).join(" "),c=document.getElementById("chordKeyboardViz"+o).closest(".p-3");if(c){const l=c.querySelector(".root-baked-value"),d=c.querySelector(".interval-value");l&&(l.innerHTML=t),d&&(d.innerHTML=a)}V(o,s,r)}},le=()=>{const o=document.getElementById("keyboardViz");if(!o)return;const s=document.getElementById("voicingSelect").value;let e=[];s==="closed"?e=[60,64,67]:s==="open-triad"?e=[62,65,69]:s==="drop2"?e=[60,65,67]:s==="drop3"?e=[60,64,69]:s==="spread"?e=[60,67,71]:s==="octave"?e=[60,72]:s==="first-inversion"?e=[64,67,72]:s==="second-inversion"?e=[67,72,76]:s==="third-inversion"?e=[71,76,79]:s==="shell-dominant"?e=[60,67]:s==="altered-dominant"&&(e=[60,64,70]);let i='<svg width="130" height="40">';const n=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B","C"];for(let t=0;t<13;t++){const r=t*10,a=60+t,c=e.includes(a);i+=`<rect x="${r}" y="5" width="10" height="30" rx="2" fill="${c?"#ff79c6":"#282a36"}" stroke="#444" />`,i+=`<text x="${r+5}" y="35" text-anchor="middle" font-size="8" fill="#fff">${n[t]}</text>`}i+="</svg>",o.innerHTML=i},O=()=>{const o=document.getElementById("voicingSelect");return o?o.value:"closed"},H=()=>{const o=document.getElementById("volumeSlider");document.getElementById("volumeLabel").textContent=(o?o.value:"0")+"%"},ce=()=>{document.getElementById("chordsInput").value=""},de=()=>{const o=document.getElementById("singleChordSelect");if(!o||!o.value)return;const s=o.value,e=j(s);e&&_(e)},T=()=>{const o=document.getElementById("chordsInput"),s=document.getElementById("singleChordSelect");if(!o||!s)return;const e=o.value.split(/\s|,/).map(n=>n.trim()).filter(Boolean),i=Array.from(new Set(e));if(s.innerHTML="",i.length===0){const n=document.createElement("option");n.value="",n.textContent="(No chords)",s.appendChild(n),s.disabled=!0}else i.forEach(n=>{const t=document.createElement("option");t.value=n,t.textContent=n,s.appendChild(t)}),s.disabled=!1},ue=()=>{document.getElementById("sidebarCloseBtn")?.addEventListener("click",N),document.addEventListener("DOMContentLoaded",()=>{document.getElementById("playBtn")?.addEventListener("click",P),document.getElementById("stopBtn")?.addEventListener("click",M),document.getElementById("saveChordSetBtn")?.addEventListener("click",W),document.getElementById("loadChordSetBtn")?.addEventListener("click",X),document.getElementById("deleteChordSetBtn")?.addEventListener("click",Y),document.getElementById("exportChordSetsBtn")?.addEventListener("click",Z),document.getElementById("importChordSetsInput")?.addEventListener("change",ee),document.getElementById("sidebarToggle")?.addEventListener("click",N),document.getElementById("toggleVideoBtn")?.addEventListener("click",U),document.getElementById("volumeSlider")?.addEventListener("input",H),document.getElementById("convertChordsBtn")?.addEventListener("click",()=>ie(re,()=>"closed")),document.getElementById("clearInputBtn")?.addEventListener("click",ce),document.getElementById("playSingleChordBtn")?.addEventListener("click",de),document.getElementById("chordsInput")?.addEventListener("input",T),document.getElementById("toggleOutputBoxBtn")?.addEventListener("click",()=>{const o=document.getElementById("outputBox"),s=document.getElementById("toggleOutputBoxBtn");if(!o||!s)return;const e=o.style.display!=="none"&&o.style.display!=="";o.style.display=e?"none":"block",s.innerHTML=e?s.innerHTML.replace("▼","▶"):s.innerHTML.replace("▶","▼")}),H(),T(),w()}),document.addEventListener("DOMContentLoaded",()=>{le(),document.body.addEventListener("change",o=>{const s=o.target;if(s&&s.classList.contains("chord-voicing-select")){const e=s.getAttribute("data-chord-idx"),i=s.value;ae(Number(e),i)}})})};ue();
